{% extends "main/base.html" %}
{% load static %}

{% block css %}
	{# –ó–¥–µ—Å—å –Ω–∞–¥–æ –¥–æ–±–∞–≤–ª—è—Ç—å css —Å—Ç–∏–ª–∏#}
	<style>
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),
            url({% static "deps/images/—Ñ–æ–Ω_6.jpg" %}) center/cover no-repeat;
        }
	</style>
{% endblock %}



{% block content %}

	<!-- Hero Section -->
	<section class="hero-section">
		<div class="hero-text">
			<h1 class="display-4">–ó–¥–µ—Å—å —Ä–æ–∂–¥–∞—é—Ç—Å—è —Å–∞–º—ã–µ –∫—Ä—É—Ç—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</h1>
		</div>
	</section>

	<section class="search-panel py-4">
		<div class="container">
			<!-- –ü–µ—Ä–≤—ã–π –±–ª–æ–∫ -->
			<div class="search-block d-flex flex-wrap align-items-center mb-4">
				<!-- –ö—É–¥–∞ -->
				<div class="search-item">
					<div class="d-flex align-items-center mb-3">
						<select class="form-control" id="cityInput">
							<option value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
							<option value="–ú–æ—Å–∫–≤–∞">–ú–æ—Å–∫–≤–∞(–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)</option>
							<option value="–†—è–∑–∞–Ω—å">–†—è–∑–∞–Ω—å(–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)</option>
							<option value="–ö–∞–∑–∞–Ω—å">–ö–∞–∑–∞–Ω—å(–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)</option>
							<option value="–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥">–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥(–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)</option>
						</select>
					</div>
					<div class="d-flex gap-2">
						<button class="btn btn-sm btn-outline-primary" id="cityInputBtn">
							–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
						</button>
					</div>
				</div>

				<!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä—Å–æ–Ω -->
				<div class="search-item">
					<div class="d-flex align-items-center mb-3">
						<input
								type="text"
								class="form-control form-control-sm me-2"
								id="personInput"
								value="1 —á–µ–ª–æ–≤–µ–∫"
								onfocus="clearInput()"
								oninput="updatePersonCount()"
								onblur="addPersonText()"
								style="width: 150px; text-align: center;"
						/>
					</div>
					<button class="btn btn-outline-primary" id="personInputBtn">2 —á–µ–ª–æ–≤–µ–∫–∞</button>
				</div>


				<!-- –ë—é–¥–∂–µ—Ç -->
				<div class="search-item ">
					<div class="d-flex align-items-center mb-3">
						<div class="input-container" style="position: relative; width: 100%;">
							<input
									type="number"
									class="form-control form-control-sm me-2"
									id="budgetInput"
									placeholder="–ë—é–¥–∂–µ—Ç"
									min="0"
									max="9999999999999"
							/>
							<span class="currency-symbol"
							      style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%);">‚ÇΩ</span>
						</div>
					</div>
					<button class="btn btn-sm btn-outline-primary " id="budgetInputBtn">–ù–µ
						—É–∫–∞–∑—ã–≤–∞—Ç—å
					</button>
				</div>
			</div>

			<!-- –í—Ç–æ—Ä–æ–π –±–ª–æ–∫ -->
			<div class="search-block d-flex flex-wrap">
				<!-- –ö–æ–≥–¥–∞ -->
				<div class="search-item">
					<label class="form-label">–¢—É–¥–∞</label>
					<input type="date" class="form-control">
				</div>

				<!-- –û–±—Ä–∞—Ç–Ω–æ -->
				<div class="search-item">
					<label class="form-label">–û–±—Ä–∞—Ç–Ω–æ</label>
					<input type="date" class="form-control">
				</div>
			</div>

			<!-- –ö–Ω–æ–ø–∫–∞ –ü–û–ï–•–ê–õ–ò -->
			<div class="text-center mt-4">
				<button class="btn btn-primary btn-lg px-5" data-bs-toggle="modal"
				        data-bs-target="#surveyModal">–ü–û–ï–•–ê–õ–ò!
				</button>
			</div>

			<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
			<div class="modal fade" id="surveyModal" tabindex="-1"
			     aria-labelledby="surveyModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="surveyModalLabel">–ü—Ä–æ–π–¥–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π
								–æ–ø—Ä–æ—Å</h5>
							<button type="button" class="btn-close" data-bs-dismiss="modal"
							        aria-label="Close"></button>
						</div>
						<div class="modal-body text-center">
							<p>–ü—Ä–µ–∂–¥–µ —á–µ–º –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π - –ø—Ä–æ–π–¥–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–π
								–æ–ø—Ä–æ—Å üôè</p>
							<p>–¢–∞–∫ –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–º–æ–∂–µ—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.</p>
						</div>
						<div class="modal-footer justify-content-center">
							<button type="button" class="btn btn-outline-secondary"
							        data-bs-dismiss="modal">–ù–µ —Å–µ–π—á–∞—Å
							</button>
							<a href="{% url 'survey:survey_index' %}" class="btn btn-primary">–ü—Ä–æ–π—Ç–∏
								–æ–ø—Ä–æ—Å</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Destinations Section -->
	<section class="container my-5">
		<h3 class="mb-4">–ü–æ–¥–±–æ—Ä–∫–∏ –º–µ—Å—Ç</h3>
		<h5 class="text-primary mb-4">–•–æ—á—É –Ω–∞ —Å–µ–≤–µ—Ä</h5>

		<div class="row g-4">
			<!-- Saint Petersburg -->
			<div class="col-md-4">
				<div class="card destination-card h-100">
					<img src={% static "deps/images/–ø–∏—Ç–µ—Ä.jpg" %} class="card-img-top"
					     alt="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">
					<div class="card-body">
						<h5 class="card-title">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</h5>
						<p class="card-text">–ë–µ–ª–∞—è –Ω–æ—á—å —Å–ø—É—Å—Ç–∏–ª–∞—Å—å –∫–∞–∫ –æ–±–ª–∞–∫–æ...</p>
					</div>
				</div>
			</div>

			<!-- Arkhangelsk -->
			<div class="col-md-4">
				<div class="card destination-card h-100">
					<img src={% static "deps/images/–∞—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫.jpg" %} class="card-img-top"
					     alt="–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫">
					<div class="card-body">
						<h5 class="card-title">–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫</h5>
						<p class="card-text">–ó–¥–µ—Å—å –õ–æ–º–æ–Ω–æ—Å–æ–≤ –±—Ä–æ–¥–∏–ª</p>
					</div>
				</div>
			</div>

			<!-- Murmansk -->
			<div class="col-md-4">
				<div class="card destination-card h-100">
					<img src={% static "deps/images/–º—É—Ä–º–∞–Ω—Å–∫.jpg" %} class="card-img-top"
					     alt="–ú—É—Ä–º–∞–Ω—Å–∫">
					<div class="card-body">
						<h5 class="card-title">–ú—É—Ä–º–∞–Ω—Å–∫</h5>
						<p class="card-text">–ï–¥–µ–º –∫—É—à–∞—Ç—å —Ä—ã–±—É!</p>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Bootstrap Bundle with Popper -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
	<!--–°–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–µ–ª–æ–≤–µ–∫ -->
	<script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ –ø–æ–ª–µ
        function clearInput() {
            let personInput = document.getElementById("personInput");

            // –£–±–∏—Ä–∞–µ–º –≤—Å–µ, –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä—ã –∏ —Ç–µ–∫—Å—Ç–∞ "—á–µ–ª–æ–≤–µ–∫" –∏–ª–∏ "—á–µ–ª–æ–≤–µ–∫–∞"
            if (/^\d+ —á–µ–ª–æ–≤–µ–∫(–∞)?$/.test(personInput.value)) {
                personInput.value = personInput.value.replace(/\D/g, '');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ–∫–æ–Ω—á–∞–Ω–∏–µ–º
        function updatePersonCount() {
            let personInput = document.getElementById("personInput");

            // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
            personInput.value = personInput.value.replace(/\D/g, '');


        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ "—á–µ–ª–æ–≤–µ–∫"
        function addPersonText() {
            let personInput = document.getElementById("personInput");

            // –ü–æ–ª—É—á–∞–µ–º —á–∏—Å–ª–æ –∏–∑ value
            let count = parseInt(personInput.value) || 1;

            // –ï—Å–ª–∏ –≤–≤–µ–¥–µ–Ω–æ 1, —Ç–æ –ø–∏—à–µ–º "—á–µ–ª–æ–≤–µ–∫", –∏–Ω–∞—á–µ "—á–µ–ª–æ–≤–µ–∫–∞"
            if (count === 1 || count >= 5) {
                personInput.value = count + " —á–µ–ª–æ–≤–µ–∫";
            } else {
                personInput.value = count + " —á–µ–ª–æ–≤–µ–∫–∞";
            }
        }
	</script>
	<!--–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫ -->
	<script>
        document.getElementById('cityInputBtn').addEventListener('click', function () {
            document.getElementById('cityInput').value = document.getElementById('cityInputBtn').innerText;  // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
        });


        document.getElementById('budgetInputBtn').addEventListener('click', function () {
            document.getElementById('budgetInput').value = '';
            document.getElementById('budgetInput').placeholder = document.getElementById('budgetInputBtn').innerText;  // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
        });

        document.getElementById('personInputBtn').addEventListener('click', function () {
            document.getElementById('personInput').value = document.getElementById('personInputBtn').innerText;  // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
        });
	</script>
{% endblock %}


{% block footer %}

{% endblock %}



